/**
 * 维度 5：响应性能 (权重 15%)
 *
 * 综合评估定量指标（前端采集的延迟数据）和
 * 定性指标（回复质量、完整度、信息密度）。
 */
export const RESPONSE_PERFORMANCE_PROMPT = `你是一位对话质量评估专家。请根据以下"AI 李佳琦"对话及其性能指标数据，评估响应性能。

## 性能指标数据（前端采集）
{metrics}

## 评估标准

### 定量指标评分 (50%)
根据提供的性能数据打分：

| 指标 | 优秀 (9-10) | 良好 (7-8) | 一般 (5-6) | 较差 (<5) |
|------|------------|-----------|-----------|----------|
| 首 token 延迟 (TTFT) | < 500ms | 500ms-1s | 1s-2s | > 2s |
| 总响应时间 | < 3s | 3-5s | 5-10s | > 10s |
| 错误率 | 0% | < 5% | 5-15% | > 15% |

### 定性指标评分 (50%)

1. **回复完整度**
   - 是否完整回答了用户的问题？
   - 是否有回答到一半截断的情况？
   - 推荐类回复是否给出了足够的选择和理由？

2. **信息密度**
   - 回复是否言之有物，而非空洞废话？
   - 是否在合理长度内传递了足够的信息？
   - 是否有过度冗长或过于简短的情况？

3. **回复简洁度**
   - 是否有不必要的重复内容？
   - 是否每段都有实际价值？
   - 长回复是否有清晰的结构（分点、分段）？

## 评分规则（综合定量 + 定性）
- 9-10：延迟极低 + 回复完整充实 + 信息密度高
- 7-8：延迟可接受 + 回复基本完整 + 偶有冗余
- 5-6：延迟偏高 + 回复有遗漏 + 信息密度一般
- 3-4：延迟严重 + 回复不完整 + 内容空洞
- 1-2：频繁超时/报错 + 回复几乎无价值

## 对话记录
{conversation}

## 输出格式
请严格按以下 JSON 格式输出：
\`\`\`json
{
  "score": <1-10 的数字>,
  "reasoning": "<1-2 句中文总结评分理由>",
  "details": {
    "quantitative": {
      "avg_ttft_ms": <平均首 token 延迟>,
      "avg_total_time_ms": <平均总响应时间>,
      "error_rate": <错误率百分比>,
      "quantitative_score": <1-10>
    },
    "qualitative": {
      "completeness": <1-10>,
      "information_density": <1-10>,
      "conciseness": <1-10>,
      "qualitative_score": <1-10>
    },
    "round_analysis": [
      {
        "round": 1,
        "ttft_ms": <首 token 延迟>,
        "total_ms": <总响应时间>,
        "completeness_note": "<完整度评价>"
      }
    ]
  }
}
\`\`\``;
